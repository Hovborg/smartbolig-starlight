---
title: Temperatur sensor med ESP32
description: Byg en prÃ¦cis temperatur og fugtighed sensor med ESP32 og DHT22. Komplet guide.
sidebar:
  badge:
    text: PopulÃ¦r
    variant: tip
---

import { Steps, Aside, Card, CardGrid, Tabs, TabItem, Badge } from '@astrojs/starlight/components';

<Badge text="Let" variant="success" /> <Badge text="30 min" variant="note" /> <Badge text="70 kr" variant="caution" />

<img src="/images/guides/temperatur-sensor/hero.jpg" alt="DHT22 temperatur sensor" style="border-radius: 12px; margin-bottom: 1.5rem;" />

En temperatur/fugtighed sensor er det **perfekte fÃ¸rste projekt**. Billigt, nemt og utrolig nyttigt til at overvÃ¥ge dit hjem.

## ğŸ“‹ ForudsÃ¦tninger

FÃ¸r du starter:

- âœ… [ESP32 sat op med ESPHome](/da/esp32/kom-godt-i-gang/)
- âœ… Home Assistant kÃ¸rende

<Aside type="note">
Ny til ESP32? Start med vores [Kom godt i gang guide](/da/esp32/kom-godt-i-gang/) fÃ¸rst.
</Aside>

## ğŸ›’ Komponenter

| Del | Beskrivelse | Pris ca. |
|-----|-------------|----------|
| ESP32 DevKit | WiFi mikrocontroller | 45 kr |
| DHT22 sensor | Temperatur + fugtighed | 25 kr |
| Jumper wires | 3 stk han-hun | 10 kr |
| **Total** | | **~70 kr** |

<Aside type="tip" title="DHT22 vs DHT11">
- **DHT22:** Â±0.5Â°C prÃ¦cision, 0-100% fugtighed - **anbefalet**
- **DHT11:** Â±2Â°C prÃ¦cision, 20-80% fugtighed - billigere men uprÃ¦cis
</Aside>

## ğŸ”Œ Tilslutning

### Wiring diagram

![DHT22 til ESP32 wiring diagram](/images/guides/temperatur-sensor/wiring.svg)

### Trin-for-trin

<Steps>
1. **RÃ¸d ledning (VCC/+)** â†’ ESP32 **3.3V** pin

2. **Gul/hvid ledning (DATA/OUT)** â†’ ESP32 **GPIO4** pin

3. **Sort ledning (GND/-)** â†’ ESP32 **GND** pin
</Steps>

<Aside type="danger" title="âš ï¸ Brug kun 3.3V!">
DHT22 kÃ¸rer pÃ¥ 3.3V. Brug **IKKE 5V** - det kan Ã¸delÃ¦gge sensoren permanent!
</Aside>

## âš™ï¸ ESPHome Konfiguration

Ã…bn din enhed i ESPHome og tilfÃ¸j denne sensor-konfiguration:

```yaml title="stue-sensor.yaml" {15-24}
esphome:
  name: stue-sensor
  friendly_name: Stue Sensor

esp32:
  board: esp32dev

logger:
api:
  encryption:
    key: "din-nÃ¸gle-her"
ota:
  platform: esphome

# DHT22 Sensor
sensor:
  - platform: dht
    pin: GPIO4
    model: DHT22
    temperature:
      name: "Stue Temperatur"
      filters:
        - offset: 0.0  # Juster hvis nÃ¸dvendigt
    humidity:
      name: "Stue Fugtighed"
    update_interval: 60s

wifi:
  ssid: "dit-wifi"
  password: "din-kode"
```

<Aside type="tip" title="Kalibrering">
Hvis temperaturen viser forkert, juster `offset` vÃ¦rdien. F.eks. `offset: -1.5` trÃ¦kker 1.5Â°C fra mÃ¥lingen.
</Aside>

## ğŸ“¤ Upload til ESP32

<Tabs>
  <TabItem label="TrÃ¥dlÃ¸st (hvis allerede flashet)">
    <Steps>
    1. Klik **INSTALL** i ESPHome
    2. VÃ¦lg **Wirelessly**
    3. Vent ~1 minut
    </Steps>
  </TabItem>
  <TabItem label="USB (fÃ¸rste gang)">
    <Steps>
    1. Tilslut ESP32 med USB
    2. Klik **INSTALL** â†’ **Plug into this computer**
    3. VÃ¦lg COM-port
    4. Vent ~2 minutter
    </Steps>
  </TabItem>
</Tabs>

## âœ… Verificer i Home Assistant

<Steps>
1. GÃ¥ til **Indstillinger** â†’ **Enheder og tjenester**

2. Find din ESP32 enhed og klik pÃ¥ den

3. Du bÃ¸r se to nye sensorer:
   - `sensor.stue_temperatur`
   - `sensor.stue_fugtighed`

4. Klik pÃ¥ en sensor for at se graf over tid
</Steps>

## ğŸ“Š TilfÃ¸j til Dashboard

### Simpelt sensor-kort

```yaml title="Lovelace kort"
type: sensor
entity: sensor.stue_temperatur
name: Stue
icon: mdi:thermometer
graph: line
hours_to_show: 24
```

### Kombineret temperatur/fugtighed

```yaml title="Lovelace kort"
type: glance
entities:
  - entity: sensor.stue_temperatur
    name: Temperatur
  - entity: sensor.stue_fugtighed
    name: Fugtighed
title: Stue Klima
```

## ğŸ”§ Fejlfinding

<Aside type="tip" title="Sensor viser 'Unavailable'?">
**Tjek disse ting:**
1. Er ledningerne sat rigtigt i? (VCCâ†’3.3V, ikke 5V!)
2. Er GPIO-pin korrekt i konfigurationen?
3. PrÃ¸v en anden GPIO pin (f.eks. GPIO5)
4. Tjek ESPHome logs for fejlbeskeder
</Aside>

<Aside type="tip" title="Temperatur virker forkert?">
**Mulige Ã¥rsager:**
- DHT22 har Â±0.5Â°C tolerance fra fabrikken
- Sensor placeret for tÃ¦t pÃ¥ ESP32 (selv-opvarmning)
- Direkte sollys eller nÃ¦r varmekilde

**LÃ¸sning:**
- Brug `offset` filter til kalibrering
- Flyt sensor vÃ¦k fra ESP32 med lÃ¦ngere ledninger
- Sammenlign med et kendt termometer
</Aside>

<Aside type="tip" title="Fugtighed virker forkert?">
DHT22 fugtighed er ofte 5-10% off. KalibrÃ©r med:
```yaml
humidity:
  name: "Stue Fugtighed"
  filters:
    - offset: -5.0  # TrÃ¦k 5% fra
```
</Aside>

## ğŸ’¡ Tips til prÃ¦cise mÃ¥linger

| Tip | Forklaring |
|-----|------------|
| **Placering** | UndgÃ¥ direkte sollys, radiatorer og vinduer |
| **HÃ¸jde** | Placer i ~1.5m hÃ¸jde for rum-temperatur |
| **Luftcirkulation** | Ikke i hjÃ¸rner eller bag mÃ¸bler |
| **Opdateringsinterval** | 60s er fint - hurtigere slider sensoren |

## ğŸš€ NÃ¦ste skridt

<CardGrid>
  <Card title="ğŸš¶ BevÃ¦gelsessensor" icon="rocket">
    TilfÃ¸j en PIR sensor til at detektere bevÃ¦gelse.
    
    [Byg bevÃ¦gelsessensor â†’](/da/esp32/bevaegelsessensor/)
  </Card>
  <Card title="ğŸ’¡ LED Strip" icon="setting">
    Styr adresserbare RGB LEDs baseret pÃ¥ temperatur.
    
    [Byg LED strip â†’](/da/esp32/led-strip/)
  </Card>
</CardGrid>

## ğŸ¤– Automation idÃ©er

```yaml title="Eksempel: Advar ved hÃ¸j fugtighed"
automation:
  - alias: "HÃ¸j fugtighed alarm"
    trigger:
      - platform: numeric_state
        entity_id: sensor.stue_fugtighed
        above: 70
        for: "00:30:00"
    action:
      - service: notify.mobile_app
        data:
          title: "âš ï¸ HÃ¸j fugtighed"
          message: "Fugtigheden i stuen er {{ states('sensor.stue_fugtighed') }}%"
```
