---
title: Kom godt i gang med ESP32
description: Din fÃ¸rste ESP32 med ESPHome. Fra udpakning til fungerende sensor i Home Assistant.
sidebar:
  badge:
    text: Start her
    variant: success
---

import { Steps, Aside, Tabs, TabItem, Card, CardGrid, Badge } from '@astrojs/starlight/components';

<Badge text="Let" variant="success" /> <Badge text="20 min" variant="note" /> <Badge text="50 kr" variant="caution" />

ESP32 er en mikrocontroller - en lille computer der kan mÃ¥le ting, styre ting, og snakke med dit WiFi. Sammen med ESPHome bliver det nemt at lave dine egne smart home enheder.

![ESP32 + ESPHome + Home Assistant](/images/guides/kom-godt-i-gang-esp32/overview.svg)

## ğŸ“‹ ForudsÃ¦tninger

FÃ¸r du starter, skal du have:

- âœ… [Home Assistant kÃ¸rende](/da/home-assistant/)
- âœ… En computer med USB-port
- âœ… Chrome eller Edge browser (til USB flash)

## ğŸ¤” Hvad er ESPHome?

ESPHome er software der kÃ¸rer pÃ¥ din ESP32. Du beskriver hvad den skal gÃ¸re i en simpel YAML-fil, og ESPHome klarer resten.

**Fordele:**
- Ingen Arduino IDE eller C++ programmering
- Direkte integration med Home Assistant
- TrÃ¥dlÃ¸se opdateringer (OTA)

## ğŸ›’ VÃ¦lg dit board

| Board | Pris | Anbefalet til |
|-------|------|---------------|
| **ESP32-WROOM-32 DevKit** | 40-50 kr | â­ Begyndere (start her) |
| ESP32-C3 Super Mini | 25 kr | SmÃ¥ projekter |
| ESP32-S3 | 60 kr | Displays, mere RAM |

<Aside type="tip">
Start med en **WROOM-32 DevKit**. Den er bred nok til at se hvad du laver, og alle vores guides bruger den.
</Aside>

### ESP32 Pinout oversigt

![ESP32 DevKit pinout diagram](/images/guides/kom-godt-i-gang-esp32/pinout.svg)

## âš™ï¸ Installer ESPHome Add-on

<Steps>
1. **Ã…bn Home Assistant** og gÃ¥ til **Indstillinger** â†’ **Add-ons**

2. Klik **Add-on Butik** (nederst til hÃ¸jre)

3. SÃ¸g efter **"ESPHome"** og klik pÃ¥ den

4. Klik **Installer** og vent (1-2 minutter)

5. SlÃ¥ **"Start ved opstart"** og **"Vis i sidebar"** til

6. Klik **Start**
</Steps>

<Aside type="note">
ESPHome ikonet vises nu i din sidebar til venstre.
</Aside>

## ğŸ”Œ Opret din fÃ¸rste enhed

<Steps>
1. **Ã…bn ESPHome** fra sidebaren

2. Klik **+ NEW DEVICE**

3. Klik **Continue** (ignorer browser-flash for nu)

4. **Navngiv enheden** - f.eks. `test-sensor`
   
   <Aside type="caution">
   Brug kun smÃ¥ bogstaver, tal og bindestreger. Ingen mellemrum eller Ã¦Ã¸Ã¥.
   </Aside>

5. VÃ¦lg **ESP32** som device type

6. Klik **Skip** (vi flasher manuelt bagefter)
</Steps>

## ğŸ“ Konfigurer enheden

Klik pÃ¥ **EDIT** pÃ¥ din nye enhed og erstat indholdet med:

```yaml title="test-sensor.yaml"
esphome:
  name: test-sensor
  friendly_name: Test Sensor

esp32:
  board: esp32dev

# Logging til fejlfinding
logger:

# Home Assistant API
api:
  encryption:
    key: "DIN-AUTO-GENEREREDE-NÃ˜GLE"

# TrÃ¥dlÃ¸se opdateringer
ota:
  platform: esphome

# WiFi forbindelse
wifi:
  ssid: "DIT-WIFI-NAVN"
  password: "DIN-WIFI-KODE"

# Fallback hotspot hvis WiFi fejler
captive_portal:

# Simpel test sensor - WiFi signalstyrke
sensor:
  - platform: wifi_signal
    name: "WiFi Signal"
    update_interval: 60s
```

<Aside type="tip">
Erstat `DIT-WIFI-NAVN` og `DIN-WIFI-KODE` med dine rigtige WiFi oplysninger.
</Aside>

## ğŸ“¤ Flash til ESP32

<Tabs>
  <TabItem label="ğŸŒ Web (nemmest)">
    <Steps>
    1. Tilslut ESP32 til computeren med USB-kabel
    
    2. Klik **INSTALL** â†’ **Plug into this computer**
    
    3. VÃ¦lg **"Serial"** i popup-vinduet
    
    4. VÃ¦lg den korrekte COM-port (typisk den eneste der vises)
    
    5. Vent pÃ¥ upload (~2 minutter)
    
    6. Du ser "INFO Successfully uploaded" nÃ¥r det er fÃ¦rdigt
    </Steps>
    
    <Aside type="caution">
    Virker kun i **Chrome** eller **Edge**. Firefox understÃ¸tter ikke Web Serial.
    </Aside>
  </TabItem>
  <TabItem label="ğŸ’» ESPHome CLI">
    Hvis web-flash ikke virker:
    
    ```bash
    # Installer ESPHome CLI
    pip install esphome
    
    # Flash via USB
    esphome run test-sensor.yaml
    ```
  </TabItem>
</Tabs>

## âœ… TilfÃ¸j til Home Assistant

<Steps>
1. GÃ¥ til **Indstillinger** â†’ **Enheder og tjenester**

2. Home Assistant finder automatisk din ESP32 under **"Opdaget"**

3. Klik **Konfigurer**

4. Indtast din encryption key (fra YAML filen)

5. Klik **Send** â†’ **Afslut**
</Steps>

Din ESP32 er nu forbundet! ğŸ‰

## ğŸ§ª Test det virker

<Steps>
1. GÃ¥ til **UdviklervÃ¦rktÃ¸jer** â†’ **Tilstande**

2. SÃ¸g efter `sensor.test_sensor_wifi_signal`

3. Du bÃ¸r se en vÃ¦rdi som `-45 dBm`
</Steps>

<Aside type="tip" title="WiFi signalstyrke">
- **-30 til -50 dBm:** Fremragende
- **-50 til -70 dBm:** Godt
- **-70 til -80 dBm:** Svagt
- **Under -80 dBm:** Ustabilt
</Aside>

## ğŸ”§ Fejlfinding

<Aside type="tip" title="ESP32 findes ikke?">
- PrÃ¸v et andet USB-kabel (nogle er kun til opladning)
- PrÃ¸v en anden USB-port
- Installer CH340 driver: [Windows](https://sparks.gogo.co.nz/ch340.html) / [Mac](https://github.com/adrianmihalko/ch340g-ch34g-ch34x-mac-os-x-driver)
</Aside>

<Aside type="tip" title="WiFi forbinder ikke?">
- Dobbelttjek SSID og password (store/smÃ¥ bogstaver)
- ESP32 understÃ¸tter kun 2.4 GHz WiFi, ikke 5 GHz
- PrÃ¸v at vÃ¦re tÃ¦ttere pÃ¥ routeren
</Aside>

<Aside type="tip" title="Home Assistant finder ikke enheden?">
- Tjek at ESP32 og HA er pÃ¥ samme netvÃ¦rk
- Genstart ESPHome add-on
- Tjek ESPHome logs for fejl
</Aside>

## ğŸš€ NÃ¦ste skridt

<CardGrid>
  <Card title="ğŸŒ¡ï¸ Temperatur sensor" icon="rocket">
    TilfÃ¸j en DHT22 og mÃ¥l temperatur/fugtighed.
    
    [Byg temperatur sensor â†’](/da/esp32/temperatur-sensor/)
  </Card>
  <Card title="ğŸš¶ BevÃ¦gelsessensor" icon="setting">
    TilfÃ¸j en PIR sensor til bevÃ¦gelsesdetektering.
    
    [Byg bevÃ¦gelsessensor â†’](/da/esp32/bevaegelsessensor/)
  </Card>
</CardGrid>
