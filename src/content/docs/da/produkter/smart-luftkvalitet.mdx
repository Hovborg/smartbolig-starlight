---
title: Smart Luftkvalitet
description: Komplet guide til luftkvalitetsoverv√•gning - Airthings, Awair, AirGradient og DIY ESPHome CO2/PM2.5 sensorer med Home Assistant.
sidebar:
  badge:
    text: Guide
    variant: note
---

import { Card, CardGrid, Aside, Badge, Tabs, TabItem } from '@astrojs/starlight/components';
import FAQ from '../../../../components/FAQ.astro';
import HowTo from '../../../../components/HowTo.astro';

<HowTo
  name="Ops√¶t smart luftkvalitetsoverv√•gning"
  description="Guide til CO2, PM2.5, VOC og radon m√•ling med Home Assistant"
  totalTime="PT60M"
  steps={[
    "V√¶lg luftkvalitetssensor (kommerciel eller DIY)",
    "Installer og konfigurer sensor",
    "Integrer med Home Assistant",
    "Ops√¶t dashboard og visualisering",
    "Opret automationer for ventilation"
  ]}
/>

<Badge text="Sundhed" variant="tip" /> <Badge text="CO2" variant="caution" /> <Badge text="Automatisering" variant="success" />

D√•rlig luftkvalitet indend√∏rs kan for√•rsage hovedpine, tr√¶thed, koncentrationsbesv√¶r og langsigtede helbredsproblemer. Med **smart luftkvalitetsoverv√•gning** kan du holde √∏je med CO2, partikler og VOC - og automatisere ventilation.

<Aside type="tip" title="Top Anbefalinger 2025">
**Kommercielle sensorer:**
- **Airthings View Plus** - Radon + CO2 + PM2.5 + VOC (~2.500 kr)
- **Airthings Wave Plus** - Radon + CO2 + VOC, BLE (~1.500 kr)
- **Awair Element** - CO2 + PM2.5 + VOC, lokal API (~1.200 kr)

**DIY / Open Source:**
- **AirGradient ONE** - ESPHome, CO2 + PM2.5 (~1.100 kr)
- **ESPHome DIY** - Byg selv fra ~400 kr

**Anbefaling:** AirGradient ONE for bedste pris/kvalitet med lokal kontrol!
</Aside>

---

## üå¨Ô∏è Luftkvalitet Oversigt

### Hvad skal du m√•le?

| Parameter | Farlig gr√¶nse | Symptomer | Sensor |
|-----------|---------------|-----------|--------|
| **CO2** | Over 1000 ppm | Hovedpine, tr√¶thed, d√•rlig koncentration | SenseAir S8 |
| **PM2.5** | Over 35 ¬µg/m¬≥ | Luftvejsproblemer, allergi | Plantower PMS5003 |
| **VOC** | Over 500 ppb | Hovedpine, svimmelhed | SGP30, SGP41 |
| **Radon** | Over 100 Bq/m¬≥ | Lungekr√¶ft (langvarig) | Airthings |
| **Fugtighed** | Under 30% / Over 60% | T√∏r hud, skimmel | SHT30, DHT22 |

### Produktsammenligning

| Produkt | HA Integration | CO2 | PM2.5 | VOC | Radon | Pris |
|---------|---------------|-----|-------|-----|-------|------|
| **Airthings View Plus** | ‚úÖ Cloud API | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | üí∞üí∞üí∞ |
| **Airthings Wave Plus** | ‚úÖ BLE | ‚úÖ | ‚ùå | ‚úÖ | ‚úÖ | üí∞üí∞ |
| **Awair Element** | ‚úÖ Lokal API | ‚úÖ | ‚úÖ | ‚úÖ | ‚ùå | üí∞üí∞ |
| **AirGradient ONE** | ‚úÖ ESPHome | ‚úÖ | ‚úÖ | ‚úÖ | ‚ùå | üí∞üí∞ |
| **ESPHome DIY** | ‚úÖ Lokal | ‚úÖ | ‚úÖ | ‚ö†Ô∏è | ‚ùå | üí∞ |

---

## üìä Airthings (Native HA - 3.034 brugere)

<Tabs>
  <TabItem label="Oversigt">
    **Airthings View Plus:** ~2.500 kr
    **Airthings Wave Plus:** ~1.500 kr
    **Airthings Wave Mini:** ~800 kr
    
    **Specialiseret i radonm√•ling:**
    
    - ‚úÖ Eneste forbrugersensor med radon
    - ‚úÖ CO2, VOC, temperatur, fugtighed
    - ‚úÖ View Plus: ogs√• PM2.5
    - ‚úÖ Cloud API + BLE integration
    - ‚úÖ Batteri: op til 2 √•r
    - ‚ö†Ô∏è Cloud-afh√¶ngig (API)
    - ‚ö†Ô∏è BLE kun for Wave-serien
    
    <Aside type="note">
    **Radon** er en radioaktiv gas der siver op fra undergrunden. Den er usynlig og lugtfri, men er den n√¶stst√∏rste √•rsag til lungekr√¶ft efter rygning. S√¶rligt relevant i Danmark!
    </Aside>
  </TabItem>
  <TabItem label="Home Assistant">
    ### Cloud API Integration (View Plus + alle)
    
    ```yaml
    # Indstillinger ‚Üí Enheder ‚Üí Tilf√∏j Integration
    # S√∏g "Airthings"
    
    # Kr√¶ver Airthings API credentials:
    # 1. G√• til dashboard.airthings.com
    # 2. Integrations ‚Üí API ‚Üí Request API Client
    # 3. Name: "Home Assistant"
    # 4. Resource Scope: read:device:current_values
    # 5. Access Type: Confidential
    # 6. Enable: On
    # 7. Kopier ID og Secret til HA
    
    # Entiteter der oprettes:
    # - sensor.airthings_co2
    # - sensor.airthings_radon_short_term
    # - sensor.airthings_radon_long_term
    # - sensor.airthings_voc
    # - sensor.airthings_pm25 (View Plus)
    # - sensor.airthings_temperature
    # - sensor.airthings_humidity
    # - sensor.airthings_pressure
    ```
    
    ### BLE Integration (Wave-serien - lokal!)
    
    ```yaml
    # Kr√¶ver Bluetooth i HA
    # (USB dongle eller ESP32 Bluetooth Proxy)
    
    # Indstillinger ‚Üí Enheder ‚Üí Tilf√∏j Integration
    # S√∏g "Airthings BLE"
    
    # Autodiscover finder Wave-enheder
    # Serienummer (sidste 6 cifre) bruges til ID
    
    # Fordele ved BLE:
    # - Ingen cloud-afh√¶ngighed
    # - Hurtigere opdateringer
    # - Virker offline
    ```
  </TabItem>
  <TabItem label="Automationer">
    ### Ventilation baseret p√• CO2
    
    ```yaml
    automation:
      # Advar ved h√∏j CO2
      - alias: "Luftkvalitet - H√∏j CO2"
        trigger:
          - platform: numeric_state
            entity_id: sensor.airthings_co2
            above: 1000
            for: "00:10:00"
        action:
          - service: notify.mobile_app
            data:
              title: "üå¨Ô∏è √Öbn et vindue!"
              message: >
                CO2 niveau: {{ states('sensor.airthings_co2') }} ppm
                Luften er tung - tid til at lufte ud.
    
      # Radon advarsel
      - alias: "Luftkvalitet - Radon Advarsel"
        trigger:
          - platform: numeric_state
            entity_id: sensor.airthings_radon_short_term
            above: 100  # Bq/m¬≥
        action:
          - service: notify.mobile_app
            data:
              title: "‚ò¢Ô∏è H√∏j Radon!"
              message: >
                Radon: {{ states('sensor.airthings_radon_short_term') }} Bq/m¬≥
                Overvej udluftning eller radonsp√¶rre.
              data:
                push:
                  sound:
                    name: "alarm.caf"
    
      # Automatisk ventilation
      - alias: "Luftkvalitet - Start Ventilator"
        trigger:
          - platform: numeric_state
            entity_id: sensor.airthings_co2
            above: 800
        action:
          - service: fan.turn_on
            entity_id: fan.ventilation
          - service: notify.mobile_app
            data:
              message: "Ventilator startet pga. CO2"
    
      - alias: "Luftkvalitet - Stop Ventilator"
        trigger:
          - platform: numeric_state
            entity_id: sensor.airthings_co2
            below: 600
        action:
          - service: fan.turn_off
            entity_id: fan.ventilation
    ```
  </TabItem>
</Tabs>

**K√∏b:** [Airthings.com](https://www.airthings.com), Amazon, Elgiganten

---

## üåø Awair Element (Lokal API - 1.468 brugere)

<Tabs>
  <TabItem label="Oversigt">
    **Pris:** ~$200 / ~1.500 kr
    
    **Lokal API uden cloud:**
    
    - ‚úÖ CO2 (0-4000 ppm)
    - ‚úÖ PM2.5 partikler
    - ‚úÖ VOC (totale flygtige organiske forbindelser)
    - ‚úÖ Temperatur og fugtighed
    - ‚úÖ Lokal API (ingen cloud kr√¶vet!)
    - ‚úÖ Flot display med score
    - ‚ùå Ingen radon
    - ‚ùå Kr√¶ver str√∏m (USB-C)
    
    <Aside type="tip" title="Lokal API">
    Awair Element underst√∏tter **lokal polling** hvert 30 sekund - ingen cloud-afh√¶ngighed! Aktiver via Awair app ‚Üí Device Settings ‚Üí Enable Local API.
    </Aside>
  </TabItem>
  <TabItem label="Home Assistant">
    ### Native Integration
    
    ```yaml
    # Indstillinger ‚Üí Enheder ‚Üí Tilf√∏j Integration
    # S√∏g "Awair"
    
    # To metoder:
    
    # 1. LOKAL (anbefalet):
    # - Aktiver Local API i Awair app
    # - HA autodiscover finder enheden
    # - Polling hver 30 sekund
    
    # 2. CLOUD:
    # - Kr√¶ver Awair Developer token
    # - developer.getawair.com
    # - Op til 24 timer for godkendelse
    # - Polling hver 5 minutter
    
    # Entiteter:
    # - sensor.awair_element_co2
    # - sensor.awair_element_pm25
    # - sensor.awair_element_voc
    # - sensor.awair_element_temperature
    # - sensor.awair_element_humidity
    # - sensor.awair_element_score
    ```
  </TabItem>
</Tabs>

**K√∏b:** [Awair.com](https://www.getawair.com), Amazon

---

## üîß AirGradient ONE (ESPHome - Anbefalet DIY)

<Tabs>
  <TabItem label="Oversigt">
    **Pris:** ~$150 / ~1.100 kr (samlet)
    **DIY kit:** ~$95 / ~700 kr
    
    **Open source luftkvalitetsm√•ler:**
    
    - ‚úÖ CO2 (SenseAir S8 - NDIR)
    - ‚úÖ PM2.5/PM10 (Plantower PMS5003)
    - ‚úÖ VOC + NOx (Sensirion SGP41)
    - ‚úÖ Temperatur og fugtighed
    - ‚úÖ ESPHome firmware (100% lokal)
    - ‚úÖ Farvet LED-bar for hurtig status
    - ‚úÖ OLED display
    - ‚ùå Ingen radon
    - ‚ùå Kr√¶ver str√∏m (USB-C)
    
    <Aside type="tip" title="Hvorfor AirGradient?">
    AirGradient bruger **industrielle sensorer** (SenseAir, Sensirion, Plantower) som er testet og kalibreret. ESPHome giver 100% lokal kontrol uden cloud.
    </Aside>
  </TabItem>
  <TabItem label="Home Assistant">
    ### Native AirGradient Integration (ny!)
    
    ```yaml
    # Siden juni 2024 har AirGradient
    # en native HA integration!
    
    # Indstillinger ‚Üí Enheder ‚Üí Tilf√∏j Integration
    # S√∏g "AirGradient"
    
    # Autodiscover finder enheder p√• netv√¶rket
    ```
    
    ### ESPHome (fuld kontrol)
    
    ```yaml
    # Alternativt: Flash ESPHome firmware
    # for 100% lokal kontrol
    
    esphome:
      name: airgradient-one
      platform: ESP32
      board: esp32-c3-devkitm-1
    
    wifi:
      ssid: !secret wifi_ssid
      password: !secret wifi_password
    
    api:
      encryption:
        key: !secret api_encryption_key
    
    # I2C for sensorer
    i2c:
      sda: GPIO7
      scl: GPIO6
    
    # UART for CO2 og PM
    uart:
      - id: uart_pm
        rx_pin: GPIO20
        tx_pin: GPIO21
        baud_rate: 9600
      - id: uart_co2
        rx_pin: GPIO0
        tx_pin: GPIO1
        baud_rate: 9600
    
    sensor:
      # CO2 - SenseAir S8
      - platform: senseair
        uart_id: uart_co2
        co2:
          name: "CO2"
          id: co2
        update_interval: 60s
    
      # PM2.5 - Plantower
      - platform: pmsx003
        type: PMSX003
        uart_id: uart_pm
        pm_2_5:
          name: "PM2.5"
          id: pm25
        pm_10_0:
          name: "PM10"
    
      # Temperatur/Fugtighed
      - platform: sht3xd
        temperature:
          name: "Temperature"
        humidity:
          name: "Humidity"
        address: 0x44
    
      # VOC Index
      - platform: sgp4x
        voc:
          name: "VOC Index"
        nox:
          name: "NOx Index"
    ```
  </TabItem>
  <TabItem label="DIY Build">
    ### Byg selv (~400-600 kr)
    
    **Komponenter:**
    - ESP32 D1 Mini (~60 kr)
    - SenseAir S8 CO2 sensor (~350 kr)
    - Plantower PMS5003 (~150 kr)
    - SHT30 temp/fugt (~30 kr)
    - 0.96" OLED display (~40 kr)
    - 3D-printet kabinet (gratis fil)
    
    **Total:** ~630 kr
    
    ```yaml
    # Basis ESPHome config for DIY
    esphome:
      name: air-quality-diy
    
    esp8266:
      board: d1_mini
    
    wifi:
      ssid: !secret wifi_ssid
      password: !secret wifi_password
    
    api:
    
    i2c:
      sda: D2
      scl: D1
    
    uart:
      - rx_pin: D5
        tx_pin: D6
        baud_rate: 9600
        id: uart_pm
      - rx_pin: D7
        tx_pin: D8
        baud_rate: 9600
        id: uart_co2
    
    sensor:
      - platform: senseair
        uart_id: uart_co2
        co2:
          name: "CO2"
        update_interval: 60s
    
      - platform: pmsx003
        type: PMSX003
        uart_id: uart_pm
        pm_2_5:
          name: "PM2.5"
    
      - platform: sht3xd
        temperature:
          name: "Temperature"
        humidity:
          name: "Humidity"
        address: 0x44
    
    display:
      - platform: ssd1306_i2c
        model: "SSD1306 128x64"
        address: 0x3C
        lambda: |-
          it.printf(0, 0, id(font1), "CO2: %.0f ppm", id(co2).state);
          it.printf(0, 16, id(font1), "PM2.5: %.0f", id(pm25).state);
    ```
    
    **Ressourcer:**
    - [AirGradient DIY Guide](https://www.airgradient.com/open-airgradient/instructions/diy-pro-v37/)
    - [Jeff Geerling's Build](https://www.jeffgeerling.com/blog/2021/airgradient-diy-air-quality-monitor-co2-pm25)
    - [ESPHome Devices](https://devices.esphome.io/devices/airgradient-diy/)
  </TabItem>
</Tabs>

**K√∏b:** [AirGradient.com](https://www.airgradient.com), DIY komponenter fra AliExpress

---

## üìà CO2 Niveauer Guide

| CO2 ppm | Status | Effekt |
|---------|--------|--------|
| 400-600 | üü¢ Optimal | Frisk luft, god koncentration |
| 600-800 | üü° Acceptabel | Let reduceret opm√¶rksomhed |
| 800-1000 | üü† Moderat | Hovedpine, tr√¶thed begynder |
| 1000-1500 | üî¥ D√•rlig | Tydelig tr√¶thed, koncentrationsbesv√¶r |
| 1500-2000 | üü£ Meget d√•rlig | Kraftig hovedpine, svimmelhed |
| >2000 | ‚ö´ Farlig | Kvalme, hjertekl√∏pen |

<Aside type="caution" title="Sovev√¶relse">
Et lukket sovev√¶relse med √©n person n√•r typisk **1500+ ppm CO2** efter 6-8 timer. Hold d√∏ren √•ben eller brug mekanisk ventilation!
</Aside>

---

## ü§ñ Komplet Automation Suite

```yaml
automation:
  # ===== CO2 BASERET VENTILATION =====
  
  # Smart ventilator styring
  - alias: "Luft - Adaptiv Ventilation"
    trigger:
      - platform: state
        entity_id: sensor.airgradient_co2
    action:
      - choose:
          # H√∏j CO2 - fuld hastighed
          - conditions:
              - condition: numeric_state
                entity_id: sensor.airgradient_co2
                above: 1000
            sequence:
              - service: fan.set_percentage
                entity_id: fan.ventilation
                data:
                  percentage: 100
          # Moderat CO2 - medium
          - conditions:
              - condition: numeric_state
                entity_id: sensor.airgradient_co2
                above: 800
            sequence:
              - service: fan.set_percentage
                entity_id: fan.ventilation
                data:
                  percentage: 50
          # Normal - sluk
          - conditions:
              - condition: numeric_state
                entity_id: sensor.airgradient_co2
                below: 600
            sequence:
              - service: fan.turn_off
                entity_id: fan.ventilation

  # ===== PM2.5 ADVARSLER =====
  
  - alias: "Luft - H√∏j PM2.5"
    trigger:
      - platform: numeric_state
        entity_id: sensor.airgradient_pm25
        above: 35
        for: "00:15:00"
    action:
      - service: notify.mobile_app
        data:
          title: "üò∑ D√•rlig luftkvalitet"
          message: >
            PM2.5: {{ states('sensor.airgradient_pm25') }} ¬µg/m¬≥
            Overvej at t√¶nde luftrenser.
      - service: switch.turn_on
        entity_id: switch.air_purifier

  - alias: "Luft - PM2.5 OK igen"
    trigger:
      - platform: numeric_state
        entity_id: sensor.airgradient_pm25
        below: 12
        for: "00:30:00"
    action:
      - service: switch.turn_off
        entity_id: switch.air_purifier

  # ===== VOC OVERV√ÖGNING =====
  
  - alias: "Luft - H√∏j VOC"
    trigger:
      - platform: numeric_state
        entity_id: sensor.airgradient_voc_index
        above: 250
    action:
      - service: notify.mobile_app
        data:
          title: "üß™ H√∏j VOC"
          message: >
            VOC Index: {{ states('sensor.airgradient_voc_index') }}
            Luft ud - muligvis kemikalier i luften.

  # ===== SOVEV√ÜRELSE AUTOMATIK =====
  
  - alias: "Luft - Sovev√¶relse Nat"
    trigger:
      - platform: time
        at: "22:00:00"
    action:
      - service: fan.turn_on
        entity_id: fan.sovevaerelse_ventilation
        data:
          percentage: 30
      - service: notify.mobile_app
        data:
          message: "Natventilation startet"

  - alias: "Luft - Sovev√¶relse Morgen"
    trigger:
      - platform: time
        at: "07:00:00"
    action:
      - if:
          - condition: numeric_state
            entity_id: sensor.bedroom_co2
            above: 800
        then:
          - service: fan.set_percentage
            entity_id: fan.sovevaerelse_ventilation
            data:
              percentage: 100
          - delay: "00:30:00"
      - service: fan.turn_off
        entity_id: fan.sovevaerelse_ventilation
```

---

## üìä Dashboard

```yaml
type: vertical-stack
cards:
  # Luftkvalitet gauge
  - type: gauge
    entity: sensor.airgradient_co2
    name: "CO2"
    min: 400
    max: 2000
    severity:
      green: 400
      yellow: 800
      red: 1000

  # Alle m√•linger
  - type: entities
    title: "üå¨Ô∏è Luftkvalitet"
    entities:
      - entity: sensor.airgradient_co2
        name: "CO2"
        icon: mdi:molecule-co2
      - entity: sensor.airgradient_pm25
        name: "PM2.5"
        icon: mdi:blur
      - entity: sensor.airgradient_voc_index
        name: "VOC Index"
        icon: mdi:air-filter
      - entity: sensor.airgradient_temperature
        name: "Temperatur"
      - entity: sensor.airgradient_humidity
        name: "Fugtighed"

  # Historie
  - type: history-graph
    title: "CO2 (24 timer)"
    entities:
      - entity: sensor.airgradient_co2
    hours_to_show: 24
```

---

## üõí K√∏bs Strategi

### Budget DIY (~500 kr)
- ESP8266 D1 Mini (~60 kr)
- SenseAir S8 (~350 kr)
- SHT30 (~30 kr)
- **Total:** ~440 kr (kun CO2)

### Standard AirGradient (~1.100 kr)
- AirGradient ONE kit (~1.100 kr)
- Inkluderer CO2, PM2.5, VOC, temp, fugt
- **Total:** ~1.100 kr

### Premium Airthings (~2.500 kr)
- Airthings View Plus (~2.500 kr)
- Inkluderer alt + **Radon**
- **Total:** ~2.500 kr

---

## ‚ùì Ofte Stillede Sp√∏rgsm√•l

<FAQ questions={[
  {
    question: "Har jeg brug for radonm√•ling?",
    answer: "I Danmark er radon et reelt problem, is√¶r i √¶ldre huse og k√¶ldre. Sundhedsstyrelsen anbefaler m√•ling. Airthings er den eneste forbrugersensor med radon. Alternativt kan du bestille en professionel m√•ling."
  },
  {
    question: "Hvor pr√¶cise er billige CO2-sensorer?",
    answer: "SenseAir S8 (brugt i AirGradient) er en NDIR sensor med ¬±40ppm pr√¶cision - det er industristandard. Billige MQ-135 'CO2 sensorer' m√•ler faktisk VOC og er upr√¶cise. Undg√• dem."
  },
  {
    question: "Hvorfor er mit CO2 niveau h√∏jt om natten?",
    answer: "Et lukket sovev√¶relse akkumulerer hurtigt CO2 fra din vejrtr√¶kning. En person ud√•nder ~200 ml CO2 per minut. Hold d√∏ren √•ben eller brug ventilation!"
  },
  {
    question: "Hvad er forskellen p√• PM2.5 og PM10?",
    answer: "PM2.5 er partikler under 2.5 mikrometer (farligst - tr√¶nger dybt i lungerne). PM10 er under 10 mikrometer. PM2.5 er den vigtigste m√•ling for sundhed."
  },
  {
    question: "Kan jeg styre min varmegenvinding med CO2?",
    answer: "Ja! Mange HRV/ERV systemer (Nilan, Vilpe, Systemair) kan styres via 0-10V signal eller modbus. Brug ESPHome til at sende signal baseret p√• CO2-niveau."
  }
]} />

---

## üìö N√¶ste Skridt

<CardGrid>
  <Card title="Smart Vand" icon="rocket">
    Beskyt mod vandskader.
    
    [Se guide ‚Üí](/da/produkter/smart-vand/)
  </Card>
  <Card title="ESP32 Projekter" icon="seti:arduino">
    Byg flere sensorer selv.
    
    [Se guide ‚Üí](/da/esp32/)
  </Card>
</CardGrid>

---

*Sidst opdateret: December 2025*
