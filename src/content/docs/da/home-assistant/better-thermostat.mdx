---
title: Better Thermostat - Intelligent Varmestyring
description: Komplet guide til Better Thermostat i Home Assistant. Spar energi med smart kalibrering, vinduesdetektion og ekstern temperatursensor.
---

import { Steps, Aside, Tabs, TabItem, Card, CardGrid, Badge } from '@astrojs/starlight/components';

<Badge text="Medium" variant="caution" /> <Badge text="30 min" variant="note" />

Better Thermostat er en HACS integration der gÃ¸r dine "dumme" radiator-termostater smarte. Den bruger en ekstern temperatursensor, vinduessensorer og vejrdata til at optimere varmen og spare energi.

<Aside type="note" title="Open Source">
Better Thermostat er open source! Se [Better Thermostat pÃ¥ GitHub](https://github.com/KartoffelToby/better_thermostat) for dokumentation og feature requests.
</Aside>

## ğŸ¤” Hvorfor Better Thermostat?

![Better Thermostat oversigt](/images/guides/better-thermostat/overview.svg)

Radiator-termostater (TRV) mÃ¥ler temperaturen direkte ved radiatoren - som typisk er 2-5Â°C varmere end resten af rummet. Better Thermostat lÃ¸ser dette:

| Problem | Better Thermostat LÃ¸sning |
|---------|---------------------------|
| **Forkert temperatur** | Bruger ekstern sensor til reel rumtemperatur |
| **Ã…bent vindue = spild** | Automatisk stop ved Ã¥bent vindue |
| **Manuel justering** | Presets: Eco, Comfort, Away, Boost |
| **Flere radiatorer** | GruppÃ©r TRV'er i samme rum |
| **Kalibrering** | Automatisk offset-kalibrering |

<Aside type="tip" title="Energibesparelse">
Ved at bruge en ekstern sensor og vinduesdetektion kan du typisk spare 15-25% pÃ¥ varmeregningen!
</Aside>

## ğŸ“¦ Hvad du skal bruge

### Hardware (du har sandsynligvis allerede)

| Komponent | Eksempler | NÃ¸dvendig? |
|-----------|-----------|------------|
| **Radiator termostat (TRV)** | Shelly TRV, TRÃ…DFRI, Sonoff TRVZB, Aqara | âœ… Ja |
| **Temperatursensor** | Shelly Wall Display, Aqara, IKEA Vindstyrka | âœ… Anbefalet |
| **Vinduessensor** | Aqara, Sonoff, Shelly | â­ Valgfri |
| **Home Assistant** | Med HACS installeret | âœ… Ja |

### Fra dit setup

Baseret pÃ¥ din Home Assistant har du allerede:
- **Shelly TRV** radiator-termostater i stuen
- **Shelly Wall Display** med temperatursensor
- Flere temperatursensorer rundt i huset

## ğŸ”§ Installation

### Trin 1: Installer via HACS

<Steps>
1. Ã…bn **HACS** i Home Assistant
2. Klik pÃ¥ **Integrations**
3. SÃ¸g efter **Better Thermostat**
4. Klik **Download** og genstart Home Assistant
</Steps>

### Trin 2: TilfÃ¸j Better Thermostat

<Steps>
1. GÃ¥ til **Indstillinger** â†’ **Enheder og tjenester**
2. Klik **TilfÃ¸j integration**
3. SÃ¸g **Better Thermostat**
4. FÃ¸lg opsÃ¦tningsguiden
</Steps>

## âš™ï¸ Konfiguration

### Basis opsÃ¦tning

Ved oprettelse skal du angive:

| Felt | Beskrivelse | Eksempel |
|------|-------------|----------|
| **Navn** | Navn pÃ¥ termostaten | "Stue Better" |
| **Thermostat** | Din eksisterende TRV | `climate.shelly_trv_stue` |
| **Temperature Sensor** | Ekstern rumtemperatursensor | `sensor.shelly_wall_display_temperature` |
| **Window Sensor** | Vinduessensor (valgfri) | `binary_sensor.vindue_stue` |

### Avancerede indstillinger

```yaml
# Disse kan justeres via UI efter oprettelse:

# Temperatur offsets
outdoor_sensor: sensor.openweathermap_temperature
window_open_timeout: 30  # sekunder fÃ¸r reaktion pÃ¥ Ã¥bent vindue

# Presets (standard vÃ¦rdier)
eco_temp: 19
comfort_temp: 21
boost_temp: 24
away_temp: 16
sleep_temp: 18
```

## ğŸ“Š Eksempel: Stue med 2 radiatorer

Her er et komplet eksempel fra dit setup med stuen der har 2 Shelly TRV'er:

### Trin 1: Opret Better Thermostat for rum

<Steps>
1. **TilfÃ¸j integration** â†’ Better Thermostat
2. **Navn**: "Stue Varme"
3. **Thermostat**: VÃ¦lg begge TRV'er (gruppering)
   - `climate.shelly_trv_stue_1`
   - `climate.shelly_trv_stue_2`
4. **Temperature Sensor**: `sensor.shelly_wall_display_temperature`
5. **Window Sensor**: `binary_sensor.vindue_stue` (hvis du har en)
</Steps>

### Trin 2: Verificer entiteter

Efter oprettelse fÃ¥r du:

```yaml
# Ny climate entitet
climate.stue_varme:
  current_temperature: 21.5Â°C  # Fra Wall Display
  target_temperature: 21Â°C
  preset_mode: comfort
  
# Attributter
hvac_action: heating
window_open: false
```

## ğŸ¯ Presets og Schedules

### Standard Presets

| Preset | Default Temp | Anvendelse |
|--------|--------------|------------|
| **None** | 20Â°C | Standard |
| **Eco** | 19Â°C | Energibesparelse |
| **Comfort** | 21Â°C | Hjemme og aktiv |
| **Boost** | 24Â°C | Hurtig opvarmning |
| **Away** | 16Â°C | Ikke hjemme |
| **Sleep** | 18Â°C | Nat |

### JustÃ©r preset temperaturer

```yaml
# Via automation eller service call
service: climate.set_temperature
target:
  entity_id: climate.stue_varme
data:
  temperature: 22
```

## ğŸ¤– Automationer

### Skift preset baseret pÃ¥ tilstedevÃ¦relse

```yaml
automation:
  - alias: "Varme: Away nÃ¥r ingen hjemme"
    trigger:
      - platform: state
        entity_id: group.personer_hjemme
        to: "not_home"
        for:
          minutes: 30
    action:
      - service: climate.set_preset_mode
        target:
          entity_id: 
            - climate.stue_varme
            - climate.sovevaerelse_varme
            - climate.kontor_varme
        data:
          preset_mode: away

  - alias: "Varme: Comfort nÃ¥r hjemme"
    trigger:
      - platform: state
        entity_id: group.personer_hjemme
        to: "home"
    action:
      - service: climate.set_preset_mode
        target:
          entity_id: 
            - climate.stue_varme
            - climate.sovevaerelse_varme
        data:
          preset_mode: comfort
```

### Nat-tilstand

```yaml
automation:
  - alias: "Varme: Sleep om natten"
    trigger:
      - platform: time
        at: "22:30:00"
    action:
      - service: climate.set_preset_mode
        target:
          entity_id: 
            - climate.stue_varme
            - climate.sovevaerelse_varme
        data:
          preset_mode: sleep

  - alias: "Varme: Comfort om morgenen"
    trigger:
      - platform: time
        at: "06:30:00"
    condition:
      - condition: state
        entity_id: group.personer_hjemme
        state: "home"
    action:
      - service: climate.set_preset_mode
        target:
          entity_id: 
            - climate.stue_varme
            - climate.sovevaerelse_varme
        data:
          preset_mode: comfort
```

### Boost ved tilstedevÃ¦relse i kontor

```yaml
automation:
  - alias: "Kontor: Boost ved tilstedevÃ¦relse"
    trigger:
      - platform: state
        entity_id: binary_sensor.kontor_tilstedevaerelse
        to: "on"
    condition:
      - condition: numeric_state
        entity_id: sensor.kontor_temperature
        below: 20
    action:
      - service: climate.set_preset_mode
        target:
          entity_id: climate.kontor_varme
        data:
          preset_mode: boost
      # Skift til comfort efter 30 min
      - delay:
          minutes: 30
      - service: climate.set_preset_mode
        target:
          entity_id: climate.kontor_varme
        data:
          preset_mode: comfort
```

## ğŸªŸ Vindues-detektion

Better Thermostat kan automatisk stoppe opvarmning nÃ¥r et vindue Ã¥bnes:

### Med fysisk sensor

```yaml
# Konfigureres ved oprettelse eller via Options
window_sensor: binary_sensor.vindue_stue
window_delay: 30  # Vent 30 sek fÃ¸r reaktion
```

### Uden sensor (temperatur-baseret)

Better Thermostat kan detektere Ã¥bne vinduer via pludseligt temperaturfald:

```yaml
# Aktiveres i Options
window_detection_method: temperature_drop
window_detection_threshold: 0.5  # Â°C fald over kort tid
```

## ğŸ“± Dashboard Card

### Better Thermostat UI Card

Installer det matchende UI card for at se ekstra info:

<Steps>
1. Ã…bn **HACS** â†’ **Frontend**
2. SÃ¸g **Better Thermostat UI Card**
3. Installer og genstart browser
</Steps>

```yaml
# Lovelace card konfiguration
type: custom:better-thermostat-ui-card
entity: climate.stue_varme
eco_temperature: 19
disable_window: false
disable_summer: false
```

### Standard Thermostat Card

```yaml
type: thermostat
entity: climate.stue_varme
features:
  - type: climate-preset-modes
    preset_modes:
      - eco
      - comfort
      - boost
      - away
      - sleep
```

## ğŸ”§ Kalibrering

Better Thermostat kalibrerer automatisk din TRV baseret pÃ¥ forskellen mellem TRV'ens indbyggede sensor og din eksterne sensor.

### SÃ¥dan virker det

1. TRV mÃ¥ler 24Â°C (ved radiatoren)
2. Ekstern sensor mÃ¥ler 21Â°C (i rummet)
3. Better Thermostat beregner offset: -3Â°C
4. Sender kalibrering til TRV

### Manuel kalibrering

```yaml
# Tving genkalibrering via service
service: better_thermostat.calibrate
target:
  entity_id: climate.stue_varme
```

## ğŸ“Š Energi-overvÃ¥gning

Kombiner med Energy dashboard:

```yaml
# TilfÃ¸j til configuration.yaml
template:
  - sensor:
      - name: "Stue Varme Status"
        state: >
          {% if is_state_attr('climate.stue_varme', 'hvac_action', 'heating') %}
            Varmer
          {% else %}
            Idle
          {% endif %}
        
      - name: "Daglig Varmetid Stue"
        state: >
          {{ states('sensor.stue_varme_heating_time') | float / 60 | round(1) }}
        unit_of_measurement: "timer"
```

## ğŸ”§ Fejlfinding

<Aside type="tip" title="TRV reagerer ikke?">
1. Tjek at TRV er online i Home Assistant
2. Verificer at Better Thermostat bruger korrekt entity
3. Tjek at TRV understÃ¸tter temperatur-kalibrering
4. Genstart Better Thermostat integrationen
</Aside>

<Aside type="tip" title="Temperatur springer?">
- Reducer opdateringsfrekvens pÃ¥ ekstern sensor
- Aktiver "smooth temperature" i Options
- Tjek at sensor ikke er pÃ¥virket af sol/trÃ¦k
</Aside>

<Aside type="tip" title="Vindues-detektion virker ikke?">
- Ã˜g `window_delay` til 60 sekunder
- Verificer at sensor entity er korrekt
- Tjek at sensor rapporterer "on" nÃ¥r vindue er Ã¥bent
</Aside>

## ğŸš€ Avanceret: Flere rum

### Anbefalet struktur

```
climate.stue_varme         â†’ Shelly TRV x2 + Wall Display temp
climate.sovevaerelse_varme â†’ Shelly TRV + Aqara temp sensor
climate.kontor_varme       â†’ Shelly TRV + LD2410 temp (ESP32)
climate.badevaerelse_varme â†’ Shelly TRV + Wall Display temp
```

### GruppÃ©r alle Better Thermostats

```yaml
# groups.yaml
varme_alle_rum:
  name: "Alle rum varme"
  entities:
    - climate.stue_varme
    - climate.sovevaerelse_varme
    - climate.kontor_varme
    - climate.badevaerelse_varme
```

## ğŸ“ˆ NÃ¦ste skridt

<CardGrid>
  <Card title="ğŸŒ¡ï¸ Shelly Wall Display" icon="sun">
    Perfekt temperatursensor til Better Thermostat.
    
    [OpsÃ¦t Wall Display â†’](/da/home-assistant/shelly-wall-display/)
  </Card>
  <Card title="ğŸ“Š LD2410 mmWave" icon="seti:config">
    Kombiner tilstedevÃ¦relse med varmestyring.
    
    [Byg presence sensor â†’](/da/esp32/ld2410-mmwave/)
  </Card>
</CardGrid>
